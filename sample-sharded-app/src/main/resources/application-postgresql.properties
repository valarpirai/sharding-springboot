# Sample Sharded Application Configuration - PostgreSQL Profile
spring.application.name=sample-sharded-app
server.port=8080

# Disable default auto-configuration for DataSource
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration

# Sharding Configuration with PostgreSQL
# Global Database (for tenant_shard_mapping table)
app.sharding.global-db.url=jdbc:postgresql://localhost:5432/global_db
app.sharding.global-db.username=global_user
app.sharding.global-db.password=global_password
app.sharding.global-db.driver-class-name=org.postgresql.Driver
app.sharding.global-db.hikari.maximum-pool-size=10
app.sharding.global-db.hikari.minimum-idle=2
app.sharding.global-db.hikari.connection-timeout=30s
app.sharding.global-db.hikari.idle-timeout=10m

# Shard 1 Configuration (Latest shard for new signups) - PostgreSQL
app.sharding.shards.shard1.master.url=jdbc:postgresql://localhost:5432/shard1_db
app.sharding.shards.shard1.master.username=shard1_user
app.sharding.shards.shard1.master.password=shard1_password
app.sharding.shards.shard1.master.driver-class-name=org.postgresql.Driver

app.sharding.shards.shard1.replicas.replica1.url=jdbc:postgresql://localhost:5433/shard1_db
app.sharding.shards.shard1.replicas.replica1.username=shard1_user
app.sharding.shards.shard1.replicas.replica1.password=shard1_password
app.sharding.shards.shard1.replicas.replica1.driver-class-name=org.postgresql.Driver

app.sharding.shards.shard1.replicas.replica2.url=jdbc:postgresql://localhost:5434/shard1_db
app.sharding.shards.shard1.replicas.replica2.username=shard1_user
app.sharding.shards.shard1.replicas.replica2.password=shard1_password
app.sharding.shards.shard1.replicas.replica2.driver-class-name=org.postgresql.Driver

app.sharding.shards.shard1.hikari.maximum-pool-size=20
app.sharding.shards.shard1.hikari.minimum-idle=5
app.sharding.shards.shard1.hikari.connection-timeout=30s
app.sharding.shards.shard1.hikari.idle-timeout=10m
app.sharding.shards.shard1.hikari.max-lifetime=30m

app.sharding.shards.shard1.latest=true
app.sharding.shards.shard1.region=us-east-1
app.sharding.shards.shard1.status=ACTIVE

# Shard 2 Configuration - PostgreSQL
app.sharding.shards.shard2.master.url=jdbc:postgresql://localhost:5435/shard2_db
app.sharding.shards.shard2.master.username=shard2_user
app.sharding.shards.shard2.master.password=shard2_password
app.sharding.shards.shard2.master.driver-class-name=org.postgresql.Driver

app.sharding.shards.shard2.replicas.replica1.url=jdbc:postgresql://localhost:5436/shard2_db
app.sharding.shards.shard2.replicas.replica1.username=shard2_user
app.sharding.shards.shard2.replicas.replica1.password=shard2_password
app.sharding.shards.shard2.replicas.replica1.driver-class-name=org.postgresql.Driver

app.sharding.shards.shard2.hikari.maximum-pool-size=15
app.sharding.shards.shard2.hikari.minimum-idle=3
app.sharding.shards.shard2.hikari.connection-timeout=30s
app.sharding.shards.shard2.hikari.idle-timeout=10m
app.sharding.shards.shard2.hikari.max-lifetime=30m

app.sharding.shards.shard2.latest=false
app.sharding.shards.shard2.region=us-west-2
app.sharding.shards.shard2.status=ACTIVE

# Tenant Configuration
app.sharding.tenant-column-names=tenant_id,company_id
app.sharding.validation.strictness=STRICT

# Caching Configuration (Redis - Distributed)
app.sharding.cache.enabled=true
app.sharding.cache.type=REDIS
app.sharding.cache.ttl-hours=1
app.sharding.cache.redis-host=localhost
app.sharding.cache.redis-port=6379
app.sharding.cache.redis-database=0
app.sharding.cache.redis-key-prefix=sharding:tenant:
app.sharding.cache.record-stats=true

# Logging
logging.level.com.valarpirai.sharding=DEBUG
logging.level.com.valarpirai.example=DEBUG
logging.level.com.valarpirai.sharding.cache=INFO